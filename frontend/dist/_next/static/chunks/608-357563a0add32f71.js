"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[608],{35170:(e,a,s)=>{s.d(a,{E:()=>n});var t=s(65900);let n={getUsers:async e=>{try{let a=new URLSearchParams;(null==e?void 0:e.page)&&a.append("page",e.page.toString()),(null==e?void 0:e.page_size)&&a.append("page_size",e.page_size.toString()),(null==e?void 0:e.search)&&a.append("search",e.search);let s="/admin/users".concat(a.toString()?"?".concat(a.toString()):""),n=(await t.E.get(s)).data;return{success:!0,users:n.data||[],total:n.total,page:n.page,page_size:n.page_size,total_pages:n.total_pages}}catch(e){var a,s;return{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"获取用户列表失败"}}},updateUser:async(e,a)=>{try{return await t.E.put("/admin/users/".concat(e),a),{success:!0}}catch(e){var s,n;return{success:!1,message:(null===(n=e.response)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.message)||"更新用户失败"}}},deleteUser:async e=>{try{return await t.E.delete("/admin/users/".concat(e)),{success:!0}}catch(e){var a,s;return{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"删除用户失败"}}},toggleUserStatus:async(e,a)=>{var s,n,r,o;try{let r=await t.E.put("/admin/users/".concat(e,"/status"),{is_disabled:a});return{success:!0,message:null===(s=r.data)||void 0===s?void 0:s.message,user:null===(n=r.data)||void 0===n?void 0:n.user}}catch(e){return{success:!1,message:(null===(o=e.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:r.error)||"切换用户状态失败"}}},getSystemConfigs:async()=>{try{let e=await t.E.get("/admin/system-configs");return{success:!0,configs:Array.isArray(e.data)?e.data:[]}}catch(s){var e,a;return{success:!1,message:(null===(a=s.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"获取系统配置失败"}}},updateSystemConfig:async e=>{try{return await t.E.put("/admin/system-config",e),{success:!0}}catch(e){var a,s;return{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"更新系统配置失败"}}},getSubscriptionPlans:async()=>{try{let e=(await t.E.get("/admin/subscription-plans")).data;return{success:!0,plans:e.data||[]}}catch(s){var e,a;return{success:!1,message:(null===(a=s.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"获取订阅计划失败"}}},createSubscriptionPlan:async e=>{try{let{id:a,created_at:s,updated_at:n,...r}=e;return await t.E.post("/admin/subscription-plans",r),{success:!0}}catch(e){var a,s;return{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"创建订阅计划失败"}}},updateSubscriptionPlan:async(e,a)=>{try{let{id:s,created_at:n,updated_at:r,...o}=a;return await t.E.put("/admin/subscription-plans/".concat(e),o),{success:!0}}catch(e){var s,n;return{success:!1,message:(null===(n=e.response)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.message)||"更新订阅计划失败"}}},deleteSubscriptionPlan:async e=>{try{return await t.E.delete("/admin/subscription-plans/".concat(e)),{success:!0}}catch(e){var a,s;return{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"删除订阅计划失败"}}},getActivationCodes:async e=>{try{let a=new URLSearchParams;(null==e?void 0:e.page)&&a.append("page",e.page.toString()),(null==e?void 0:e.page_size)&&a.append("page_size",e.page_size.toString()),(null==e?void 0:e.status)&&a.append("status",e.status),(null==e?void 0:e.batch_number)&&a.append("batch_number",e.batch_number),(null==e?void 0:e.code)&&a.append("code",e.code),(null==e?void 0:e.username)&&a.append("username",e.username);let s="/admin/activation-codes".concat(a.toString()?"?".concat(a.toString()):""),n=(await t.E.get(s)).data;return{success:!0,codes:n.data||[],total:n.total,page:n.page,page_size:n.page_size,total_pages:n.total_pages}}catch(e){var a,s;return{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"获取激活码失败"}}},createActivationCodes:async e=>{try{return await t.E.post("/admin/activation-codes",e),{success:!0}}catch(e){var a,s;return{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"创建激活码失败"}}},async deleteActivationCode(e){try{return await t.E.delete("/admin/activation-codes/".concat(e)),{success:!0}}catch(e){var a,s;return console.error("删除激活码失败:",e),{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)||"删除激活码失败"}}},async getSubscriptionDailyLimit(e){try{let a=await t.E.get("/admin/activation-codes/".concat(e,"/daily-limit"));return{success:!0,daily_limit:a.data.daily_limit}}catch(e){var a,s;return console.error("获取每日限制失败:",e),{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)||"获取每日限制失败"}}},async updateSubscriptionDailyLimit(e,a){try{return await t.E.put("/admin/activation-codes/".concat(e,"/daily-limit"),{daily_limit:a}),{success:!0}}catch(e){var s,n;return console.error("更新每日限制失败:",e),{success:!1,message:(null===(n=e.response)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.error)||"更新每日限制失败"}}},async getAnnouncements(){try{let e=await t.E.get("/admin/announcements");return{success:!0,announcements:e.data.data||e.data}}catch(s){var e,a;return console.error("获取公告列表失败:",s),{success:!1,message:(null===(a=s.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.error)||"获取公告列表失败"}}},async createAnnouncement(e){try{return await t.E.post("/admin/announcements",e),{success:!0}}catch(e){var a,s;return console.error("创建公告失败:",e),{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)||"创建公告失败"}}},async updateAnnouncement(e,a){try{return await t.E.put("/admin/announcements/".concat(e),a),{success:!0}}catch(e){var s,n;return console.error("更新公告失败:",e),{success:!1,message:(null===(n=e.response)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.error)||"更新公告失败"}}},async deleteAnnouncement(e){try{return await t.E.delete("/admin/announcements/".concat(e)),{success:!0}}catch(e){var a,s;return console.error("删除公告失败:",e),{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)||"删除公告失败"}}},getUserSubscriptions:async e=>{var a,s,n;try{let s=await t.E.get("/admin/users/".concat(e,"/subscriptions"));return{success:!0,subscriptions:(null===(a=s.data)||void 0===a?void 0:a.subscriptions)||[]}}catch(e){return{success:!1,message:(null===(n=e.response)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.error)||"获取用户订阅失败"}}},giftSubscription:async(e,a)=>{var s,n,r,o,i;try{let o=await t.E.post("/admin/users/".concat(e,"/gift"),a);return{success:!0,message:null===(s=o.data)||void 0===s?void 0:s.message,gift_record:null===(n=o.data)||void 0===n?void 0:n.gift_record,subscription:null===(r=o.data)||void 0===r?void 0:r.subscription}}catch(e){return{success:!1,message:(null===(i=e.response)||void 0===i?void 0:null===(o=i.data)||void 0===o?void 0:o.error)||"赠送订阅失败"}}},getDashboard:async()=>{try{let e=await t.E.get("/admin/dashboard");return{success:!0,data:e.data}}catch(s){var e,a;return{success:!1,message:(null===(a=s.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.error)||"获取数据看板失败"}}},previewBanActivationCode:async e=>{try{let a=await t.E.post("/admin/activation-codes/ban-preview",e);return{success:!0,...a.data}}catch(e){var a,s;return{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)||"获取封禁预览失败"}}},banActivationCode:async e=>{try{return await t.E.post("/admin/activation-codes/ban",e),{success:!0}}catch(e){var a,s;return{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)||"封禁激活码失败"}}},unbanActivationCode:async e=>{try{return await t.E.post("/admin/activation-codes/unban",e),{success:!0}}catch(e){var a,s;return{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)||"解禁激活码失败"}}},getFrozenRecords:async e=>{var a,s,n,r,o,i,c;try{let i=new URLSearchParams;(null==e?void 0:e.page)&&i.append("page",e.page.toString()),(null==e?void 0:e.page_size)&&i.append("page_size",e.page_size.toString()),(null==e?void 0:e.user_id)&&i.append("user_id",e.user_id.toString()),(null==e?void 0:e.status)&&i.append("status",e.status),(null==e?void 0:e.activation_code)&&i.append("activation_code",e.activation_code);let c="/admin/frozen-records".concat(i.toString()?"?"+i.toString():""),d=await t.E.get(c);return{success:!0,data:(null===(a=d.data)||void 0===a?void 0:a.data)||[],total:(null===(s=d.data)||void 0===s?void 0:s.total)||0,page:(null===(n=d.data)||void 0===n?void 0:n.page)||1,page_size:(null===(r=d.data)||void 0===r?void 0:r.page_size)||10,total_pages:(null===(o=d.data)||void 0===o?void 0:o.total_pages)||0}}catch(e){return{success:!1,message:(null===(c=e.response)||void 0===c?void 0:null===(i=c.data)||void 0===i?void 0:i.error)||"获取冻结记录失败"}}},getFrozenRecordDetail:async e=>{try{let a=await t.E.get("/admin/frozen-records/".concat(e));return{success:!0,data:a.data}}catch(e){var a,s;return{success:!1,message:(null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.error)||"获取冻结记录详情失败"}}}}},85977:(e,a,s)=>{s.d(a,{E:()=>i});var t=s(58081);s(82149);var n=s(23484),r=s(87687);let o=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:s,...n}=e;return(0,t.jsx)("div",{className:(0,r.cn)(o({variant:s}),a),...n})}}}]);