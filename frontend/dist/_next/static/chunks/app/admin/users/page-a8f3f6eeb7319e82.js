(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[733],{7872:(e,a,s)=>{"use strict";s.d(a,{d:()=>r});var t=s(58081),i=s(82149),l=s(65636),n=s(87687);let r=i.forwardRef((e,a)=>{let{className:s,...i}=e;return(0,t.jsx)(l.bL,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...i,ref:a,children:(0,t.jsx)(l.zi,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});r.displayName=l.bL.displayName},36703:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(51018).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},40712:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(51018).A)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]])},41836:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>P});var t=s(58081),i=s(82149),l=s(68323),n=s(42332),r=s(8010),d=s(8381),c=s(36703),o=s(68308),h=s(40712);let u=(0,s(51018).A)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var x=s(72235),m=s(90018),p=s(92950),g=s(55058),j=s(60392),v=s(54271),y=s(86810),_=s(5160),b=s(80900),f=s(57890),k=s(85977),N=s(58747),w=s(16228),C=s(97004),S=s(3877),A=s(25192),R=s(45904),I=s(7872),E=s(6314),z=s(35170);function P(){let[e,a]=(0,i.useState)([]),[s,P]=(0,i.useState)([]),[V,$]=(0,i.useState)(!1),[H,M]=(0,i.useState)({}),[D,L]=(0,i.useState)({}),[J,K]=(0,i.useState)({page:1,pageSize:10,total:0,totalPages:0}),[O,U]=(0,i.useState)(""),[q,B]=(0,i.useState)(null),[F,G]=(0,i.useState)(!1),[T,X]=(0,i.useState)(!1),[Z,Q]=(0,i.useState)(null),[W,Y]=(0,i.useState)({subscription_plan_id:0,points_amount:"",validity_days:"",daily_max_points:"",reason:""}),ee=[{id:"select",header:e=>{let{table:a}=e;return(0,t.jsx)(N.S,{checked:a.getIsAllPageRowsSelected()||a.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>a.toggleAllPageRowsSelected(!!e),"aria-label":"全选"})},cell:e=>{let{row:a}=e;return(0,t.jsx)(N.S,{checked:a.getIsSelected(),onCheckedChange:e=>a.toggleSelected(!!e),"aria-label":"选择行"})},enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:e=>{let{column:a}=e;return(0,t.jsxs)(_.$,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),children:["ID",(0,t.jsx)(r.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:a}=e;return(0,t.jsx)("div",{className:"font-medium",children:a.getValue("id")})}},{accessorKey:"username",header:e=>{let{column:a}=e;return(0,t.jsxs)(_.$,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),children:["用户名",(0,t.jsx)(r.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:a}=e;return(0,t.jsx)("div",{className:"font-medium",children:a.getValue("username")})}},{accessorKey:"email",header:e=>{let{column:a}=e;return(0,t.jsxs)(_.$,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),children:["邮箱",(0,t.jsx)(r.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:a}=e;return(0,t.jsx)("div",{children:a.getValue("email")})}},{accessorKey:"is_admin",header:"管理员",cell:e=>{let{row:a}=e,s=a.getValue("is_admin");return(0,t.jsx)(k.E,{variant:s?"default":"secondary",children:s?"是":"否"})}},{accessorKey:"is_disabled",header:"用户状态",cell:e=>{let{row:a}=e,s=a.getValue("is_disabled");return(0,t.jsx)(k.E,{variant:s?"destructive":"default",children:s?"已禁用":"正常"})}},{accessorKey:"degradation_guaranteed",header:e=>{let{column:a}=e;return(0,t.jsxs)(_.$,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),children:["保证不降级数量",(0,t.jsx)(r.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:a}=e;return(0,t.jsx)("div",{children:a.getValue("degradation_guaranteed")})}},{accessorKey:"created_at",header:e=>{let{column:a}=e;return(0,t.jsxs)(_.$,{variant:"ghost",onClick:()=>a.toggleSorting("asc"===a.getIsSorted()),children:["注册时间",(0,t.jsx)(r.A,{className:"ml-2 h-4 w-4"})]})},cell:e=>{let{row:a}=e,s=new Date(a.getValue("created_at"));return(0,t.jsx)("div",{children:s.toLocaleDateString()})}},{id:"actions",enableHiding:!1,cell:e=>{let{row:a}=e,s=a.original;return(0,t.jsxs)(S.rI,{children:[(0,t.jsx)(S.ty,{asChild:!0,children:(0,t.jsxs)(_.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,t.jsx)("span",{className:"sr-only",children:"打开菜单"}),(0,t.jsx)(d.A,{className:"h-4 w-4"})]})}),(0,t.jsxs)(S.SQ,{align:"end",children:[(0,t.jsx)(S.lp,{children:"操作"}),(0,t.jsx)(S._2,{onClick:async()=>{await (0,C.l)(s.email)||alert("无法复制邮箱，请手动复制。")},children:"复制邮箱"}),(0,t.jsx)(S.mB,{}),(0,t.jsxs)(S._2,{onClick:()=>ei(s),children:[(0,t.jsx)(c.A,{className:"mr-2 h-4 w-4"}),"编辑用户"]}),(0,t.jsxs)(S._2,{onClick:()=>ed(s),children:[(0,t.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"赠送卡密"]}),(0,t.jsx)(S._2,{onClick:()=>er(s),children:s.is_disabled?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"解禁用户"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u,{className:"mr-2 h-4 w-4"}),"禁用用户"]})}),(0,t.jsxs)(S._2,{onClick:()=>en(s.id),className:"text-red-600",children:[(0,t.jsx)(x.A,{className:"mr-2 h-4 w-4"}),"删除用户"]})]})]})}}],ea=(0,l.N4)({data:e,columns:ee,getCoreRowModel:(0,n.HT)(),onColumnVisibilityChange:M,onRowSelectionChange:L,manualPagination:!0,pageCount:J.totalPages,state:{columnVisibility:H,rowSelection:D}}),es=async()=>{$(!0);let e={page:J.page,page_size:J.pageSize,...O&&{search:O.trim()}},s=await z.E.getUsers(e);s.success&&s.users?(a((Array.isArray(s.users)?s.users:[]).map(e=>({id:e.id,username:e.username,email:e.email,is_admin:e.is_admin,is_disabled:e.is_disabled,degradation_guaranteed:e.degradation_guaranteed,created_at:e.created_at}))),K(e=>({...e,total:s.total||0,totalPages:s.total_pages||0,page:s.page||1,pageSize:s.page_size||e.pageSize}))):(a([]),(0,E.oR)({title:"加载失败",description:s.message,variant:"destructive"})),$(!1)},et=async()=>{let e=await z.E.getSubscriptionPlans();e.success&&e.plans&&P(Array.isArray(e.plans)?e.plans:[])};(0,i.useEffect)(()=>{es(),et()},[J.page,J.pageSize,O]);let ei=a=>{let s=e.find(e=>e.id===a.id);s&&(B({id:s.id,username:s.username,email:s.email,is_admin:s.is_admin,is_disabled:s.is_disabled,degradation_guaranteed:s.degradation_guaranteed,degradation_source:"system",degradation_locked:!1,degradation_counter:0,created_at:s.created_at,updated_at:s.created_at}),G(!0))},el=async e=>{let a=await z.E.updateUser(e.id,e);a.success?((0,E.oR)({title:"更新成功",variant:"default"}),G(!1),es()):(0,E.oR)({title:"更新失败",description:a.message,variant:"destructive"})},en=async e=>{if(!confirm("确定要删除此用户吗？"))return;let a=await z.E.deleteUser(e);a.success?((0,E.oR)({title:"删除成功",variant:"default"}),es()):(0,E.oR)({title:"删除失败",description:a.message,variant:"destructive"})},er=async e=>{let a=!e.is_disabled,s=a?"禁用":"解禁";if(!confirm("确定要".concat(s,'用户 "').concat(e.username,'" 吗？')))return;let t=await z.E.toggleUserStatus(e.id,a);t.success?((0,E.oR)({title:"".concat(s,"成功"),description:t.message,variant:"default"}),es()):(0,E.oR)({title:"".concat(s,"失败"),description:t.message,variant:"destructive"})},ed=e=>{Q(e),Y({subscription_plan_id:0,points_amount:"",validity_days:"",daily_max_points:"",reason:""}),X(!0)},ec=async()=>{if(!Z||0===W.subscription_plan_id){(0,E.oR)({title:"请选择订阅计划",variant:"destructive"});return}let e={subscription_plan_id:W.subscription_plan_id,reason:W.reason};W.points_amount&&(e.points_amount=parseInt(W.points_amount)),W.validity_days&&(e.validity_days=parseInt(W.validity_days)),W.daily_max_points&&(e.daily_max_points=parseInt(W.daily_max_points));let a=await z.E.giftSubscription(Z.id,e);a.success?((0,E.oR)({title:"赠送成功",description:a.message,variant:"default"}),X(!1),es()):(0,E.oR)({title:"赠送失败",description:a.message,variant:"destructive"})};return(0,t.jsx)(v.DashboardLayout,{children:(0,t.jsxs)(y.Zp,{className:"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700",children:[(0,t.jsxs)(y.aR,{children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.A,{className:"h-6 w-6 text-blue-500"}),(0,t.jsx)(y.ZB,{className:"text-slate-900 dark:text-slate-100",children:"用户管理"})]}),(0,t.jsx)(y.BT,{className:"text-slate-600 dark:text-slate-400",children:"管理系统中的所有用户账户，支持搜索、筛选和导出"})]}),(0,t.jsxs)(y.Wu,{children:[(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between py-4",children:[(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.A,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(b.p,{placeholder:"搜索用户名、邮箱...",value:O,onChange:e=>{U(e.target.value),K(e=>({...e,page:1}))},className:"pl-8 max-w-sm"})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(_.$,{variant:"outline",size:"sm",onClick:()=>{let a=ea.getSelectedRowModel().rows,s=a.length>0?a.map(e=>e.original):e,t=new Blob(["\uFEFF"+["ID,用户名,邮箱,管理员,用户状态,保证不降级数量,注册时间",...s.map(e=>[e.id,'"'.concat(e.username,'"'),'"'.concat(e.email,'"'),e.is_admin?"是":"否",e.is_disabled?"已禁用":"正常",e.degradation_guaranteed,'"'.concat(new Date(e.created_at).toLocaleString(),'"')].join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");i.href=URL.createObjectURL(t),i.download="users_".concat(new Date().toISOString().split("T")[0],".csv"),i.click(),(0,E.oR)({title:"导出成功",description:"已导出 ".concat(s.length," 条记录").concat(a.length>0?" (仅选中项)":"")})},disabled:V,children:[(0,t.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"导出CSV"]}),(0,t.jsxs)(S.rI,{children:[(0,t.jsx)(S.ty,{asChild:!0,children:(0,t.jsxs)(_.$,{variant:"outline",className:"ml-auto",children:["列显示 ",(0,t.jsx)(j.A,{className:"ml-2 h-4 w-4"})]})}),(0,t.jsx)(S.SQ,{align:"end",children:ea.getAllColumns().filter(e=>e.getCanHide()).map(e=>(0,t.jsxs)(S.hO,{className:"capitalize",checked:e.getIsVisible(),onCheckedChange:a=>e.toggleVisibility(!!a),children:["id"===e.id&&"ID","username"===e.id&&"用户名","email"===e.id&&"邮箱","is_admin"===e.id&&"管理员","is_disabled"===e.id&&"用户状态","degradation_guaranteed"===e.id&&"保证不降级数量","created_at"===e.id&&"注册时间"]},e.id))})]})]})]}),O&&(0,t.jsxs)("div",{className:"flex items-center space-x-2 pb-4",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"当前搜索:"}),(0,t.jsxs)(k.E,{variant:"secondary",children:["关键词: ",O]})]}),(0,t.jsx)("div",{className:"rounded-md border",children:(0,t.jsxs)(w.XI,{children:[(0,t.jsx)(w.A0,{children:ea.getHeaderGroups().map(e=>(0,t.jsx)(w.Hj,{children:e.headers.map(e=>(0,t.jsx)(w.nd,{children:e.isPlaceholder?null:(0,l.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,t.jsx)(w.BF,{children:V?(0,t.jsx)(w.Hj,{children:(0,t.jsx)(w.nA,{colSpan:ee.length,className:"h-24 text-center",children:"加载中..."})}):e.length?ea.getRowModel().rows.map(e=>(0,t.jsx)(w.Hj,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,t.jsx)(w.nA,{children:(0,l.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,t.jsx)(w.Hj,{children:(0,t.jsx)(w.nA,{colSpan:ee.length,className:"h-24 text-center",children:"暂无数据"})})})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-between space-x-2 py-4",children:[(0,t.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[ea.getSelectedRowModel().rows.length," / ",e.length," 行已选择",(0,t.jsxs)("span",{className:"ml-4",children:["共 ",J.total," 条记录"]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"每页显示"}),(0,t.jsxs)(R.l6,{value:"".concat(J.pageSize),onValueChange:e=>{K(a=>({...a,pageSize:Number(e),page:1}))},children:[(0,t.jsx)(R.bq,{className:"h-8 w-[70px]",children:(0,t.jsx)(R.yv,{placeholder:J.pageSize})}),(0,t.jsx)(R.gC,{side:"top",children:[10,20,30,40,50].map(e=>(0,t.jsx)(R.eb,{value:"".concat(e),children:e},e))})]})]}),(0,t.jsxs)("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["第 ",J.page," 页 / 共 ",J.totalPages," 页"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(_.$,{variant:"outline",size:"sm",onClick:()=>K(e=>({...e,page:1})),disabled:J.page<=1,children:"首页"}),(0,t.jsx)(_.$,{variant:"outline",size:"sm",onClick:()=>K(e=>({...e,page:e.page-1})),disabled:J.page<=1,children:"上一页"}),(0,t.jsx)(_.$,{variant:"outline",size:"sm",onClick:()=>K(e=>({...e,page:e.page+1})),disabled:J.page>=J.totalPages,children:"下一页"}),(0,t.jsx)(_.$,{variant:"outline",size:"sm",onClick:()=>K(e=>({...e,page:J.totalPages})),disabled:J.page>=J.totalPages,children:"尾页"})]})]})]})]}),(0,t.jsx)(A.lG,{open:F,onOpenChange:G,children:(0,t.jsxs)(A.Cf,{children:[(0,t.jsxs)(A.c7,{children:[(0,t.jsx)(A.L3,{children:"编辑用户"}),(0,t.jsx)(A.rr,{children:"修改用户信息和权限设置"})]}),q&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"用户名"}),(0,t.jsx)(b.p,{value:q.username,onChange:e=>B({...q,username:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"邮箱"}),(0,t.jsx)(b.p,{value:q.email,onChange:e=>B({...q,email:e.target.value})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(I.d,{checked:q.is_admin,onCheckedChange:e=>B({...q,is_admin:e})}),(0,t.jsx)(f.J,{children:"管理员权限"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(I.d,{checked:q.is_disabled,onCheckedChange:e=>B({...q,is_disabled:e})}),(0,t.jsx)(f.J,{children:"禁用用户"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"10条保证不降级的数量"}),(0,t.jsx)(b.p,{type:"number",value:q.degradation_guaranteed,onChange:e=>B({...q,degradation_guaranteed:parseInt(e.target.value)||0})})]})]}),(0,t.jsxs)(A.Es,{children:[(0,t.jsx)(_.$,{variant:"outline",onClick:()=>G(!1),children:"取消"}),(0,t.jsx)(_.$,{onClick:()=>q&&el(q),children:"保存"})]})]})}),(0,t.jsx)(A.lG,{open:T,onOpenChange:X,children:(0,t.jsxs)(A.Cf,{className:"max-w-md",children:[(0,t.jsxs)(A.c7,{children:[(0,t.jsx)(A.L3,{children:"赠送卡密"}),(0,t.jsxs)(A.rr,{children:['为用户 "',null==Z?void 0:Z.username,'" 赠送订阅计划']})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"订阅计划 *"}),(0,t.jsxs)(R.l6,{value:W.subscription_plan_id.toString(),onValueChange:e=>Y({...W,subscription_plan_id:parseInt(e)}),children:[(0,t.jsx)(R.bq,{children:(0,t.jsx)(R.yv,{placeholder:"选择订阅计划"})}),(0,t.jsx)(R.gC,{children:Array.isArray(s)&&s.map(e=>(0,t.jsxs)(R.eb,{value:e.id.toString(),children:[e.title," (",e.point_amount.toLocaleString()," 积分, ",e.validity_days,"天)"]},e.id))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"自定义积分数量 (可选)"}),(0,t.jsx)(b.p,{type:"number",placeholder:"留空使用计划默认值",value:W.points_amount,onChange:e=>Y({...W,points_amount:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"自定义有效期天数 (可选)"}),(0,t.jsx)(b.p,{type:"number",placeholder:"留空使用计划默认值",value:W.validity_days,onChange:e=>Y({...W,validity_days:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"每日最大使用积分 (可选)"}),(0,t.jsx)(b.p,{type:"number",placeholder:"0表示无限制，留空使用计划默认值",value:W.daily_max_points,onChange:e=>Y({...W,daily_max_points:e.target.value})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"赠送原因 (可选)"}),(0,t.jsx)(b.p,{placeholder:"例如：活动奖励、客服补偿等",value:W.reason,onChange:e=>Y({...W,reason:e.target.value})})]}),(0,t.jsxs)("div",{className:"bg-muted p-3 rounded text-sm",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"用户信息："}),(0,t.jsxs)("p",{children:["用户名: ",null==Z?void 0:Z.username]}),(0,t.jsxs)("p",{children:["邮箱: ",null==Z?void 0:Z.email]}),(0,t.jsxs)("p",{children:["用户ID: ",null==Z?void 0:Z.id]})]})]}),(0,t.jsxs)(A.Es,{children:[(0,t.jsx)(_.$,{variant:"outline",onClick:()=>X(!1),children:"取消"}),(0,t.jsxs)(_.$,{onClick:ec,children:[(0,t.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"确认赠送"]})]})]})})]})]})})}},63660:(e,a,s)=>{Promise.resolve().then(s.bind(s,41836))},65636:(e,a,s)=>{"use strict";s.d(a,{bL:()=>f,zi:()=>k});var t=s(82149),i=s(35990),l=s(67351),n=s(59100),r=s(74416),d=s(82853),c=s(23321),o=s(39217),h=s(58081),u="Switch",[x,m]=(0,n.A)(u),[p,g]=x(u),j=t.forwardRef((e,a)=>{let{__scopeSwitch:s,name:n,checked:d,defaultChecked:c,required:x,disabled:m,value:g="on",onCheckedChange:j,form:v,...y}=e,[f,k]=t.useState(null),N=(0,l.s)(a,e=>k(e)),w=t.useRef(!1),C=!f||v||!!f.closest("form"),[S,A]=(0,r.i)({prop:d,defaultProp:null!=c&&c,onChange:j,caller:u});return(0,h.jsxs)(p,{scope:s,checked:S,disabled:m,children:[(0,h.jsx)(o.sG.button,{type:"button",role:"switch","aria-checked":S,"aria-required":x,"data-state":b(S),"data-disabled":m?"":void 0,disabled:m,value:g,...y,ref:N,onClick:(0,i.m)(e.onClick,e=>{A(e=>!e),C&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),C&&(0,h.jsx)(_,{control:f,bubbles:!w.current,name:n,value:g,checked:S,required:x,disabled:m,form:v,style:{transform:"translateX(-100%)"}})]})});j.displayName=u;var v="SwitchThumb",y=t.forwardRef((e,a)=>{let{__scopeSwitch:s,...t}=e,i=g(v,s);return(0,h.jsx)(o.sG.span,{"data-state":b(i.checked),"data-disabled":i.disabled?"":void 0,...t,ref:a})});y.displayName=v;var _=t.forwardRef((e,a)=>{let{__scopeSwitch:s,control:i,checked:n,bubbles:r=!0,...o}=e,u=t.useRef(null),x=(0,l.s)(u,a),m=(0,d.Z)(n),p=(0,c.X)(i);return t.useEffect(()=>{let e=u.current;if(!e)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==n&&a){let s=new Event("click",{bubbles:r});a.call(e,n),e.dispatchEvent(s)}},[m,n,r]),(0,h.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:x,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function b(e){return e?"checked":"unchecked"}_.displayName="SwitchBubbleInput";var f=j,k=y},68308:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(51018).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},72235:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(51018).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[590,807,976,191,314,737,953,370,316,271,608,105,497,954,358],()=>a(63660)),_N_E=e.O()}]);