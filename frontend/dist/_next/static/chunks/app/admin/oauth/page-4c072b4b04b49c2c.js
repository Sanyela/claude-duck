(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{7872:(e,t,a)=>{"use strict";a.d(t,{d:()=>d});var s=a(58081),r=a(82149),l=a(65636),i=a(87687);let d=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...r,ref:t,children:(0,s.jsx)(l.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});d.displayName=l.bL.displayName},23321:(e,t,a)=>{"use strict";a.d(t,{X:()=>l});var s=a(82149),r=a(55305);function l(e){let[t,a]=s.useState(void 0);return(0,r.N)(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let s,r;if(!Array.isArray(t)||!t.length)return;let l=t[0];if("borderBoxSize"in l){let e=l.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,r=t.blockSize}else s=e.offsetWidth,r=e.offsetHeight;a({width:s,height:r})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}a(void 0)},[e]),t}},29716:(e,t,a)=>{"use strict";a.d(t,{b:()=>d});var s=a(82149),r=a(39217),l=a(58081),i=s.forwardRef((e,t)=>(0,l.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var d=i},53282:(e,t,a)=>{"use strict";a.d(t,{OAuthLinkGenerator:()=>f});var s=a(58081),r=a(82149),l=a(86810),i=a(80900),d=a(57890),n=a(5160),c=a(7872);let o=(0,a(51018).A)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);var u=a(76722),h=a(75283),b=a(47950),p=a.n(b),x=a(87160),m=a(97004);function f(){let{appName:e}=(0,x.U)(),[t,a]=(0,r.useState)("");(0,r.useEffect)(()=>{a(e)},[e]);let[b,f]=(0,r.useState)("http://localhost:3000/oauth/callback"),[v,g]=(0,r.useState)("random_state_string"),[k,w]=(0,r.useState)(!1),[y,j]=(0,r.useState)(""),[N,C]=(0,r.useState)(!1),_=async()=>{if(!y)return;let e=window.location.origin+y;await (0,m.l)(e)&&(C(!0),setTimeout(()=>C(!1),2e3))},S=[{name:"ClaudeCode CLI (设备流程)",clientId:e,redirectUri:"http://localhost:8080/oauth/callback",state:"cli_auth_state",deviceFlow:!0},{name:"Web应用回调",clientId:e,redirectUri:"http://localhost:3000/oauth/callback",state:"web_auth_state",deviceFlow:!1},{name:"Postman测试",clientId:e,redirectUri:"https://oauth.pstmn.io/v1/callback",state:"postman_test_state",deviceFlow:!1}],R=e=>{a(e.clientId),f(e.redirectUri),g(e.state),w(e.deviceFlow),j(""),C(!1)};return(0,s.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,s.jsxs)(l.Zp,{className:"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700",children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{className:"text-slate-900 dark:text-slate-100",children:"OAuth 授权链接生成器"}),(0,s.jsx)(l.BT,{className:"text-slate-600 dark:text-slate-400",children:"使用此工具生成不同参数的 OAuth 授权页面链接，以测试其显示样式。"})]}),(0,s.jsxs)(l.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{className:"text-slate-700 dark:text-slate-300",children:"快速预设"}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:S.map((e,t)=>(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>R(e),className:"text-xs",children:e.name},t))})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"client_id",className:"text-slate-700 dark:text-slate-300",children:"Client ID"}),(0,s.jsx)(i.p,{id:"client_id",value:t,onChange:e=>a(e.target.value),placeholder:"例如：".concat(e),className:"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"redirect_uri",className:"text-slate-700 dark:text-slate-300",children:"Redirect URI"}),(0,s.jsx)(i.p,{id:"redirect_uri",value:b,onChange:e=>f(e.target.value),placeholder:"例如：http://localhost:3000/oauth/callback",className:"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(d.J,{htmlFor:"state",className:"text-slate-700 dark:text-slate-300",children:"State"}),(0,s.jsx)(i.p,{id:"state",value:v,onChange:e=>g(e.target.value),placeholder:"随机状态字符串",className:"bg-white dark:bg-slate-700 border-slate-300 dark:border-slate-600"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(c.d,{id:"device_flow",checked:k,onCheckedChange:w,className:"data-[state=checked]:bg-sky-500"}),(0,s.jsx)(d.J,{htmlFor:"device_flow",className:"text-slate-700 dark:text-slate-300",children:"启用设备流程 (Device Flow)"})]}),(0,s.jsx)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/30 rounded-md border border-blue-200 dark:border-blue-800",children:(0,s.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[(0,s.jsx)("strong",{children:"说明："}),k?" 设备流程模式将生成一个授权码，适用于CLI应用或无法直接处理回调的应用。":" 标准流程模式将直接重定向到指定的回调URI，适用于Web应用。"]})})]}),(0,s.jsxs)(l.wL,{className:"flex-col items-start gap-4 border-t border-slate-200 dark:border-slate-700 pt-4",children:[(0,s.jsxs)(n.$,{onClick:()=>{let e=new URLSearchParams;t&&e.append("client_id",t),b&&e.append("redirect_uri",b),v&&e.append("state",v),k&&e.append("device_flow","true"),j("/oauth/authorize?".concat(e.toString())),C(!1)},className:"w-full sm:w-auto bg-sky-500 hover:bg-sky-600 text-white",children:[(0,s.jsx)(o,{className:"mr-2 h-4 w-4"})," 生成链接"]}),y&&(0,s.jsxs)("div",{className:"w-full space-y-2 p-4 bg-slate-100 dark:bg-slate-900 rounded-md",children:[(0,s.jsx)(d.J,{className:"text-slate-700 dark:text-slate-300",children:"生成的链接:"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.p,{readOnly:!0,value:y,className:"bg-white dark:bg-slate-800 border-slate-300 dark:border-slate-700 font-mono text-sm"}),(0,s.jsxs)(n.$,{variant:"outline",size:"icon",onClick:_,children:[N?(0,s.jsx)(u.A,{className:"h-4 w-4 text-green-500"}):(0,s.jsx)(h.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"复制"})]})]}),(0,s.jsxs)("div",{className:"text-sm text-slate-600 dark:text-slate-400 break-all",children:["完整URL: ",window.location.origin,y]}),(0,s.jsx)(n.$,{variant:"default",asChild:!0,className:"bg-slate-900 text-white hover:bg-slate-700 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-200",children:(0,s.jsx)(p(),{href:y,target:"_blank",rel:"noopener noreferrer",children:"在新标签页中打开"})})]})]})]})})}},57890:(e,t,a)=>{"use strict";a.d(t,{J:()=>c});var s=a(58081),r=a(82149),l=a(29716),i=a(23484),d=a(87687);let n=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)(l.b,{ref:t,className:(0,d.cn)(n(),a),...r})});c.displayName=l.b.displayName},65636:(e,t,a)=>{"use strict";a.d(t,{bL:()=>y,zi:()=>j});var s=a(82149),r=a(35990),l=a(67351),i=a(59100),d=a(74416),n=a(82853),c=a(23321),o=a(39217),u=a(58081),h="Switch",[b,p]=(0,i.A)(h),[x,m]=b(h),f=s.forwardRef((e,t)=>{let{__scopeSwitch:a,name:i,checked:n,defaultChecked:c,required:b,disabled:p,value:m="on",onCheckedChange:f,form:v,...g}=e,[y,j]=s.useState(null),N=(0,l.s)(t,e=>j(e)),C=s.useRef(!1),_=!y||v||!!y.closest("form"),[S,R]=(0,d.i)({prop:n,defaultProp:null!=c&&c,onChange:f,caller:h});return(0,u.jsxs)(x,{scope:a,checked:S,disabled:p,children:[(0,u.jsx)(o.sG.button,{type:"button",role:"switch","aria-checked":S,"aria-required":b,"data-state":w(S),"data-disabled":p?"":void 0,disabled:p,value:m,...g,ref:N,onClick:(0,r.m)(e.onClick,e=>{R(e=>!e),_&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),_&&(0,u.jsx)(k,{control:y,bubbles:!C.current,name:i,value:m,checked:S,required:b,disabled:p,form:v,style:{transform:"translateX(-100%)"}})]})});f.displayName=h;var v="SwitchThumb",g=s.forwardRef((e,t)=>{let{__scopeSwitch:a,...s}=e,r=m(v,a);return(0,u.jsx)(o.sG.span,{"data-state":w(r.checked),"data-disabled":r.disabled?"":void 0,...s,ref:t})});g.displayName=v;var k=s.forwardRef((e,t)=>{let{__scopeSwitch:a,control:r,checked:i,bubbles:d=!0,...o}=e,h=s.useRef(null),b=(0,l.s)(h,t),p=(0,n.Z)(i),x=(0,c.X)(r);return s.useEffect(()=>{let e=h.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==i&&t){let a=new Event("click",{bubbles:d});t.call(e,i),e.dispatchEvent(a)}},[p,i,d]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...o,tabIndex:-1,ref:b,style:{...o.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function w(e){return e?"checked":"unchecked"}k.displayName="SwitchBubbleInput";var y=f,j=g},75283:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(51018).A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},76722:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(51018).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},80900:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var s=a(58081),r=a(82149),l=a(87687);let i=r.forwardRef((e,t)=>{let{className:a,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},82853:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(82149);function r(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}},96035:(e,t,a)=>{Promise.resolve().then(a.bind(a,54271)),Promise.resolve().then(a.bind(a,53282))},97004:(e,t,a)=>{"use strict";a.d(t,{l:()=>s});let s=async e=>{try{if("undefined"!=typeof navigator&&navigator.clipboard&&"function"==typeof navigator.clipboard.writeText&&window.isSecureContext)return await navigator.clipboard.writeText(e),!0;let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();let a=document.execCommand("copy");return document.body.removeChild(t),a}catch(e){return console.error("复制失败:",e),!1}}}},e=>{var t=t=>e(e.s=t);e.O(0,[590,807,976,191,316,271,497,954,358],()=>t(96035)),_N_E=e.O()}]);