(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{4486:(e,r,t)=>{Promise.resolve().then(t.bind(t,41755))},7849:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(51018).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},16228:(e,r,t)=>{"use strict";t.d(r,{A0:()=>i,BF:()=>l,Hj:()=>c,XI:()=>d,nA:()=>u,nd:()=>o});var a=t(58081),s=t(82149),n=t(87687);let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:(0,n.cn)("w-full caption-bottom text-sm",t),...s})})});d.displayName="Table";let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("thead",{ref:r,className:(0,n.cn)("[&_tr]:border-b",t),...s})});i.displayName="TableHeader";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tbody",{ref:r,className:(0,n.cn)("[&_tr:last-child]:border-0",t),...s})});l.displayName="TableBody",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tfoot",{ref:r,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s})}).displayName="TableFooter";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tr",{ref:r,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s})});c.displayName="TableRow";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("th",{ref:r,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s})});o.displayName="TableHead";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("td",{ref:r,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s})});u.displayName="TableCell",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("caption",{ref:r,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",t),...s})}).displayName="TableCaption"},29716:(e,r,t)=>{"use strict";t.d(r,{b:()=>i});var a=t(82149),s=t(39217),n=t(58081),d=a.forwardRef((e,r)=>(0,n.jsx)(s.sG.label,{...e,ref:r,onMouseDown:r=>{var t;r.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));d.displayName="Label";var i=d},32184:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(51018).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},40186:(e,r,t)=>{"use strict";t.d(r,{Fc:()=>l,TN:()=>o,XL:()=>c});var a=t(58081),s=t(82149),n=t(23484),d=t(87687);let i=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=s.forwardRef((e,r)=>{let{className:t,variant:s,...n}=e;return(0,a.jsx)("div",{ref:r,role:"alert",className:(0,d.cn)(i({variant:s}),t),...n})});l.displayName="Alert";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h5",{ref:r,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",t),...s})});c.displayName="AlertTitle";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",t),...s})});o.displayName="AlertDescription"},41755:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var a=t(58081),s=t(82149),n=t(54271),d=t(5160),i=t(86810),l=t(80900),c=t(57890),o=t(16228),u=t(85977),x=t(40186),m=t(7849),b=t(32184);let g=(0,t(51018).A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var h=t(6314),v=t(62765),f=t(65900);function p(){let[e,r]=(0,s.useState)(!0),[t,p]=(0,s.useState)([]),[j,N]=(0,s.useState)([]),[k,y]=(0,s.useState)(""),[w,C]=(0,s.useState)(!1),[A,S]=(0,s.useState)(null),[R,L]=(0,s.useState)(!1),[_,M]=(0,s.useState)({serviceLevel:"",warning:"",currentPoints:0,newPoints:0,totalPointsAfter:0,currentCheckinMin:0,currentCheckinMax:0,newCheckinMin:0,newCheckinMax:0,currentAutoRefill:0,newAutoRefill:0}),[P,D]=(0,s.useState)(0),E=(0,s.useCallback)(async()=>{r(!0),S(null);try{let[e,r]=await Promise.all([v.z.getActiveSubscription(),T()]);e.success&&p(e.data||[]),r.success&&N(r.data||[])}catch(e){S("加载订阅数据失败")}r(!1)},[]),T=async()=>{try{let e=await f.E.get("/subscription/history");return{success:!0,data:e.data.history||[]}}catch(t){var e,r;return console.error("获取支付历史失败:",A),{success:!1,message:(null===(r=A.response)||void 0===r?void 0:null===(e=r.data)||void 0===e?void 0:e.error)||"获取支付历史失败"}}},B=async()=>{if(!k.trim()){(0,h.oR)({title:"请输入激活码",variant:"destructive"});return}C(!0);try{let e=await f.E.post("/subscription/redeem/preview",{couponCode:k.trim()});if(e.data.success){let{serviceLevel:r,warning:t,currentPoints:a,newPoints:s,totalPointsAfter:n,currentCheckinMin:d,currentCheckinMax:i,newCheckinMin:l,newCheckinMax:c,currentAutoRefill:o,newAutoRefill:u}=e.data;if(("same_level"===r||"downgrade"===r)&&t){M({serviceLevel:r,warning:t,currentPoints:a||0,newPoints:s||0,totalPointsAfter:n||0,currentCheckinMin:d||0,currentCheckinMax:i||0,newCheckinMin:l||0,newCheckinMax:c||0,currentAutoRefill:o||0,newAutoRefill:u||0}),L(!0),D(10);let e=setInterval(()=>{D(r=>r<=1?(clearInterval(e),0):r-1)},1e3)}else await F()}else(0,h.oR)({title:"预检查失败",description:e.data.message,variant:"destructive"})}catch(t){var e,r;(0,h.oR)({title:"预检查失败",description:(null===(r=A.response)||void 0===r?void 0:null===(e=r.data)||void 0===e?void 0:e.message)||"预检查失败",variant:"destructive"})}C(!1)},F=async()=>{try{let e=await f.E.post("/subscription/redeem",{couponCode:k.trim()});e.data.success?((0,h.oR)({title:"兑换成功",description:e.data.message,variant:"default"}),y(""),L(!1),M({serviceLevel:"",warning:"",currentPoints:0,newPoints:0,totalPointsAfter:0,currentCheckinMin:0,currentCheckinMax:0,newCheckinMin:0,newCheckinMax:0,currentAutoRefill:0,newAutoRefill:0}),D(0),E()):(0,h.oR)({title:"兑换失败",description:e.data.message,variant:"destructive"})}catch(t){var e,r;(0,h.oR)({title:"兑换失败",description:(null===(r=A.response)||void 0===r?void 0:null===(e=r.data)||void 0===e?void 0:e.message)||"激活码兑换失败",variant:"destructive"})}},I=async()=>{C(!0),await F(),C(!1)};return(0,s.useEffect)(()=>{E()},[E]),(0,a.jsxs)(n.DashboardLayout,{children:[A&&(0,a.jsxs)(x.Fc,{variant:"destructive",className:"mb-6",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),(0,a.jsx)(x.TN,{children:A})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)(i.Zp,{className:"shadow-lg bg-card text-card-foreground border-border",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"当前订阅"}),(0,a.jsx)(i.BT,{children:"查看您当前有效的订阅计划详情。"})]}),(0,a.jsx)(i.Wu,{className:"space-y-4",children:e?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,a.jsx)(b.A,{className:"h-6 w-6 animate-spin"}),(0,a.jsx)("span",{className:"ml-2",children:"加载中..."})]}):(()=>{let e=t.filter(e=>"有效"===e.detailedStatus);return e.length>0?(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"p-4 rounded-lg border ".concat(e.isCurrentUsing?"border-blue-300 bg-blue-50 dark:bg-blue-900/20":"border-border bg-card"),children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-sky-500 dark:text-sky-400",children:e.plan.name}),e.isCurrentUsing&&(0,a.jsx)(u.E,{className:"bg-blue-500 text-white text-xs mt-1",children:"当前消耗"})]}),(0,a.jsx)(u.E,{className:"bg-green-500 text-white dark:bg-green-600 dark:text-green-50",children:"有效"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"可用积分"}),(0,a.jsx)("p",{className:"font-semibold",children:e.availablePoints.toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"总积分"}),(0,a.jsx)("p",{className:"font-semibold",children:e.totalPoints.toLocaleString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"已使用"}),(0,a.jsx)("p",{className:"font-semibold",children:e.usedPoints.toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"mt-3 text-xs text-muted-foreground",children:[(0,a.jsxs)("p",{children:["激活时间: ",new Date(e.activatedAt).toLocaleDateString()]}),(0,a.jsxs)("p",{children:["到期时间: ",new Date(e.currentPeriodEnd).toLocaleDateString()]})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("h4",{className:"font-medium mb-2 text-sm",children:"核心功能:"}),(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-xs text-muted-foreground",children:[(0,a.jsx)("li",{children:"模型智能不降级，保证回答质量"}),(0,a.jsx)("li",{children:"享受完整Claude 4 Sonnet能力"}),(0,a.jsx)("li",{children:"优先处理请求，响应更快"})]})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-lg font-medium text-muted-foreground",children:"暂无有效套餐"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"您可以使用激活码激活套餐"})]})})()})]}),(0,a.jsxs)(i.Zp,{className:"shadow-lg bg-card text-card-foreground border-border",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"订阅历史"}),(0,a.jsx)(i.BT,{children:"查看您所有的订阅记录，包括已过期和已用完的订阅。"})]}),(0,a.jsx)(i.Wu,{children:e?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,a.jsx)(b.A,{className:"h-6 w-6 animate-spin"}),(0,a.jsx)("span",{className:"ml-2",children:"加载中..."})]}):(()=>{let e=t.length>0?t.map(e=>({id:e.id,planName:e.plan.name,date:e.activatedAt,paymentStatus:"paid",subscriptionStatus:e.detailedStatus,invoiceUrl:""})):j;return e.length>0?(0,a.jsxs)(o.XI,{children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{className:"border-border",children:[(0,a.jsx)(o.nd,{children:"订阅ID"}),(0,a.jsx)(o.nd,{children:"日期"}),(0,a.jsx)(o.nd,{children:"计划"}),(0,a.jsx)(o.nd,{children:"支付状态"}),(0,a.jsx)(o.nd,{className:"text-right",children:"订阅状态"})]})}),(0,a.jsx)(o.BF,{children:e.map(e=>(0,a.jsxs)(o.Hj,{className:"border-border",children:[(0,a.jsx)(o.nA,{className:"font-medium",children:e.id}),(0,a.jsx)(o.nA,{className:"text-muted-foreground",children:new Date(e.date).toLocaleDateString()}),(0,a.jsx)(o.nA,{className:"text-muted-foreground",children:e.planName}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(u.E,{variant:"paid"===e.paymentStatus?"default":"destructive",className:"paid"===e.paymentStatus?"bg-green-100 text-green-700 dark:bg-green-700/30 dark:text-green-300":"bg-red-100 text-red-700 dark:bg-red-700/30 dark:text-red-300",children:"paid"===e.paymentStatus?"支付成功":"支付失败"})}),(0,a.jsx)(o.nA,{className:"text-right",children:(0,a.jsx)(u.E,{variant:"有效"===e.subscriptionStatus?"default":"已用完"===e.subscriptionStatus?"secondary":"outline",className:"有效"===e.subscriptionStatus?"bg-blue-100 text-blue-700 dark:bg-blue-700/30 dark:text-blue-300":"已用完"===e.subscriptionStatus?"bg-orange-100 text-orange-700 dark:bg-orange-700/30 dark:text-orange-300":"bg-gray-100 text-gray-700 dark:bg-gray-700/30 dark:text-gray-300",children:e.subscriptionStatus})})]},e.id))})]}):(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"暂无订阅历史"})})})()})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,a.jsxs)(i.Zp,{className:"shadow-lg bg-card text-card-foreground border-border",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{children:"兑换激活码"}),(0,a.jsx)(i.BT,{children:"有激活码吗？在这里输入兑换套餐。"})]}),(0,a.jsxs)(i.Wu,{className:"space-y-2",children:[(0,a.jsx)(c.J,{htmlFor:"coupon",children:"激活码"}),(0,a.jsx)(l.p,{id:"coupon",placeholder:"例如：ABCD-EFGH-IJKL-MNOP",value:k,onChange:e=>y(e.target.value),className:"bg-input border-border placeholder:text-muted-foreground",disabled:w,autoComplete:"off"})]}),(0,a.jsx)(i.wL,{children:(0,a.jsx)(d.$,{className:"w-full bg-sky-500 hover:bg-sky-600 text-primary-foreground",onClick:B,disabled:w||!k.trim(),children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:"mr-2 h-4 w-4 animate-spin"}),"兑换中..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g,{className:"mr-2 h-4 w-4"}),"兑换激活码"]})})})]}),R&&(0,a.jsxs)(i.Zp,{className:"mt-6 ".concat("downgrade"===_.serviceLevel?"border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900/20":"border-amber-200 bg-amber-50 dark:border-amber-700 dark:bg-amber-900/20"),children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"flex items-center gap-2 ".concat("downgrade"===_.serviceLevel?"text-red-800 dark:text-red-400":"text-amber-800 dark:text-amber-400"),children:[(0,a.jsx)(m.A,{className:"h-5 w-5"}),"same_level"===_.serviceLevel?"同级兑换警告":"降级兑换警告"]})}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)(x.Fc,{className:"".concat("downgrade"===_.serviceLevel?"border-red-300 bg-red-50 dark:border-red-700 dark:bg-red-900/20":"border-amber-200 bg-amber-50 dark:border-amber-700 dark:bg-amber-900/20"),children:(0,a.jsx)(x.TN,{className:"".concat("downgrade"===_.serviceLevel?"text-red-800 font-medium dark:text-red-400":"text-amber-800 font-medium dark:text-amber-400"),children:_.warning})}),(0,a.jsx)("div",{className:"mt-4 space-y-4",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg border overflow-hidden ".concat("downgrade"===_.serviceLevel?"border-red-200 dark:border-red-700":"border-amber-200 dark:border-amber-700"),children:[(0,a.jsx)("div",{className:"px-4 py-3 border-b ".concat("downgrade"===_.serviceLevel?"bg-red-50 dark:bg-red-900/30 border-red-200 dark:border-red-700":"bg-amber-50 dark:bg-amber-900/30 border-amber-200 dark:border-amber-700"),children:(0,a.jsx)("h4",{className:"font-semibold text-sm flex items-center gap-2 ".concat("downgrade"===_.serviceLevel?"text-red-800 dark:text-red-400":"text-amber-800 dark:text-amber-400"),children:"⚖️ 权益对比分析"})}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,a.jsx)("div",{className:"font-medium text-gray-600 dark:text-gray-400",children:"权益项目"}),(0,a.jsx)("div",{className:"font-medium text-green-600 dark:text-green-400 text-center",children:"您当前享有"}),(0,a.jsx)("div",{className:"font-medium text-blue-600 dark:text-blue-400 text-center",children:"兑换后状态"}),(0,a.jsx)("div",{className:"col-span-3 border-t border-gray-200 dark:border-gray-700 my-2"}),(0,a.jsx)("div",{className:"text-gray-700 dark:text-gray-300",children:"\uD83D\uDCB0 积分数量"}),(0,a.jsx)("div",{className:"text-center text-green-600 dark:text-green-400 font-medium",children:_.currentPoints.toLocaleString()}),(0,a.jsx)("div",{className:"text-center text-blue-600 dark:text-blue-400 font-medium",children:"same_level"===_.serviceLevel?(0,a.jsx)("span",{children:_.newPoints.toLocaleString()}):(0,a.jsxs)("span",{children:[_.currentPoints.toLocaleString()," + ",_.newPoints.toLocaleString()," = ",_.totalPointsAfter.toLocaleString()]})}),(0,a.jsx)("div",{className:"text-gray-700 dark:text-gray-300",children:"\uD83C\uDF81 每日签到"}),(0,a.jsx)("div",{className:"text-center text-green-600 dark:text-green-400 font-medium",children:_.currentCheckinMin>0?_.currentCheckinMin===_.currentCheckinMax?"".concat(_.currentCheckinMin,"积分"):"".concat(_.currentCheckinMin,"-").concat(_.currentCheckinMax,"积分"):"未配置"}),(0,a.jsx)("div",{className:"text-center font-medium",children:"downgrade"===_.serviceLevel?(0,a.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"保持当前配置"}):(0,a.jsx)("span",{className:"text-blue-600 dark:text-blue-400",children:_.newCheckinMin>0?_.newCheckinMin===_.newCheckinMax?"".concat(_.newCheckinMin,"积分"):"".concat(_.newCheckinMin,"-").concat(_.newCheckinMax,"积分"):"未配置"})}),(0,a.jsx)("div",{className:"text-gray-700 dark:text-gray-300",children:"\uD83D\uDD04 自动补给"}),(0,a.jsx)("div",{className:"text-center text-green-600 dark:text-green-400 font-medium",children:_.currentAutoRefill>0?"".concat(_.currentAutoRefill,"积分"):"未配置"}),(0,a.jsx)("div",{className:"text-center font-medium",children:"downgrade"===_.serviceLevel?(0,a.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"保持当前配置"}):(0,a.jsx)("span",{className:"text-blue-600 dark:text-blue-400",children:_.newAutoRefill>0?"".concat(_.newAutoRefill,"积分"):"未配置"})}),(0,a.jsx)("div",{className:"text-gray-700 dark:text-gray-300",children:"⭐ 服务等级"}),(0,a.jsx)("div",{className:"text-center text-green-600 dark:text-green-400 font-medium",children:"当前等级"}),(0,a.jsx)("div",{className:"text-center font-medium",children:"downgrade"===_.serviceLevel?(0,a.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"保持当前等级"}):(0,a.jsx)("span",{className:"text-blue-600 dark:text-blue-400",children:"同等级"})})]})})]})}),(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"请仔细阅读上述警告，确认无误后等待倒计时结束"}),(0,a.jsx)("div",{className:"text-2xl font-bold mb-4 ".concat("downgrade"===_.serviceLevel?"text-red-600 dark:text-red-400":"text-amber-600 dark:text-amber-400"),children:P>0?"".concat(P,"秒"):"现在可以确认兑换"}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,a.jsx)(d.$,{variant:"outline",onClick:()=>{L(!1),M({serviceLevel:"",warning:"",currentPoints:0,newPoints:0,totalPointsAfter:0,currentCheckinMin:0,currentCheckinMax:0,newCheckinMin:0,newCheckinMax:0,currentAutoRefill:0,newAutoRefill:0}),D(0)},className:"".concat("downgrade"===_.serviceLevel?"border-red-300 text-red-700 hover:bg-red-100 dark:border-red-700 dark:text-red-400 dark:hover:bg-red-900/30":"border-amber-300 text-amber-700 hover:bg-amber-100 dark:border-amber-700 dark:text-amber-400 dark:hover:bg-amber-900/30"),children:"取消兑换"}),(0,a.jsx)(d.$,{onClick:I,disabled:P>0||w,className:"".concat("downgrade"===_.serviceLevel?"bg-red-600 hover:bg-red-700 text-white dark:bg-red-700 dark:hover:bg-red-800":"bg-amber-600 hover:bg-amber-700 text-white dark:bg-amber-700 dark:hover:bg-amber-800"),children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:"mr-2 h-4 w-4 animate-spin"}),"兑换中..."]}):P>0?"等待 ".concat(P,"s"):"确认兑换"})]})]})]})]})]})]})]})}},57890:(e,r,t)=>{"use strict";t.d(r,{J:()=>c});var a=t(58081),s=t(82149),n=t(29716),d=t(23484),i=t(87687);let l=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n.b,{ref:r,className:(0,i.cn)(l(),t),...s})});c.displayName=n.b.displayName},62765:(e,r,t)=>{"use strict";t.d(r,{z:()=>s});var a=t(65900);let s={async getPointBalance(){try{let e=await a.E.get("/credits/balance");if(e.data&&e.data.balance){let r=e.data.balance,t={id:0,user_id:0,total_points:r.total||0,used_points:r.used||0,available_points:r.available||0,expired_points:r.expired||0,is_current_subscription:r.is_current_subscription||!1,free_model_usage_count:r.free_model_usage_count||0,checkin_points:r.checkin_points||0,admin_gift_points:r.admin_gift_points||0,updated_at:new Date().toISOString()};return{success:!0,data:t}}return{success:!0,data:e.data}}catch(t){var e,r;return console.error("获取积分余额失败:",t),{success:!1,message:(null===(r=t.response)||void 0===r?void 0:null===(e=r.data)||void 0===e?void 0:e.error)||"获取积分余额失败"}}},async getActiveSubscription(){try{let e=await a.E.get("/subscription/active");return{success:!0,data:e.data.subscriptions||[]}}catch(t){var e,r;return console.error("获取订阅信息失败:",t),{success:!1,message:(null===(r=t.response)||void 0===r?void 0:null===(e=r.data)||void 0===e?void 0:e.error)||"获取订阅信息失败"}}},async getDashboardData(){try{let[e,r]=await Promise.all([this.getPointBalance(),this.getActiveSubscription()]);return{success:!0,data:{pointBalance:e.success&&e.data||null,subscriptions:r.success&&r.data||[]}}}catch(e){return console.error("获取仪表盘数据失败:",e),{success:!1,message:"获取仪表盘数据失败"}}}}},80900:(e,r,t)=>{"use strict";t.d(r,{p:()=>d});var a=t(58081),s=t(82149),n=t(87687);let d=s.forwardRef((e,r)=>{let{className:t,type:s,...d}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...d})});d.displayName="Input"},85977:(e,r,t)=>{"use strict";t.d(r,{E:()=>i});var a=t(58081);t(82149);var s=t(23484),n=t(87687);let d=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(d({variant:t}),r),...s})}}},e=>{var r=r=>e(e.s=r);e.O(0,[590,807,976,191,314,316,271,497,954,358],()=>r(4486)),_N_E=e.O()}]);