(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{3756:(e,t,r)=>{"use strict";r.d(t,{OAuthCallbackHandler:()=>i});var a=r(58081),s=r(19651),l=r(82149),c=r(86810),o=r(32184),n=r(99076);let d=(0,r(51018).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);function i(){let e=(0,s.useSearchParams)(),[t,r]=(0,l.useState)("loading"),[i,u]=(0,l.useState)("正在处理授权回调..."),[m,x]=(0,l.useState)(null),[f,h]=(0,l.useState)(null);return(0,l.useEffect)(()=>{let t=e.get("token"),a=e.get("state"),s=e.get("error"),l=e.get("error_description");s?(h(s),u(l||"授权失败: ".concat(s)),r("error")):t?(x(t),u("授权成功！正在完成设置..."),r("success"),("3000"===window.location.port||"3001"===window.location.port)&&(localStorage.setItem("oauth_token",t),a&&localStorage.setItem("oauth_state",a))):(u("无效的回调参数。"),r("error")),window.opener&&(window.opener.postMessage({type:"oauth_callback",success:!s&&!!t,data:{token:t,state:a,error:s}},"*"),setTimeout(()=>{},3e3))},[e]),(0,a.jsxs)(c.Zp,{className:"w-full max-w-md shadow-lg bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700",children:[(0,a.jsxs)(c.aR,{className:"text-center",children:["loading"===t&&(0,a.jsx)(o.A,{className:"mx-auto h-12 w-12 animate-spin text-sky-500"}),"success"===t&&(0,a.jsx)(n.A,{className:"mx-auto h-12 w-12 text-green-500"}),"error"===t&&(0,a.jsx)(d,{className:"mx-auto h-12 w-12 text-red-500"}),(0,a.jsx)(c.ZB,{className:"mt-4 text-2xl text-slate-900 dark:text-slate-100",children:"success"===t?"授权成功":"error"===t?"授权失败":"处理中"}),(0,a.jsx)(c.BT,{className:"text-slate-600 dark:text-slate-400",children:i})]}),(0,a.jsxs)(c.Wu,{children:["success"===t&&(0,a.jsx)("p",{className:"text-sm text-center text-slate-700 dark:text-slate-300",children:"您现在可以关闭此窗口。如果窗口没有自动关闭，请手动关闭。"}),"error"===t&&(0,a.jsx)("p",{className:"text-sm text-center text-red-500 dark:text-red-400",children:"请尝试重新授权或联系支持。"})]})]})}},32184:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(51018).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},38244:(e,t,r)=>{Promise.resolve().then(r.bind(r,3756))},51018:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(82149);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:n,className:d="",children:i,iconNode:u,...m}=e;return(0,a.createElement)("svg",{ref:t,...c,width:s,height:s,stroke:r,strokeWidth:n?24*Number(o)/Number(s):o,className:l("lucide",d),...m},[...u.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(i)?i:[i]])}),n=(e,t)=>{let r=(0,a.forwardRef)((r,c)=>{let{className:n,...d}=r;return(0,a.createElement)(o,{ref:c,iconNode:t,className:l("lucide-".concat(s(e)),n),...d})});return r.displayName="".concat(e),r}},86810:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>i,ZB:()=>n,Zp:()=>c,aR:()=>o,wL:()=>u});var a=r(58081),s=r(82149),l=r(87687);let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});c.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});n.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",r),...s})});i.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},87687:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(76522),s=r(14483);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},99076:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(51018).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[590,497,954,358],()=>t(38244)),_N_E=e.O()}]);